{
    "contents" : "#' Simulate a simple experiement\n#' <means stop being title>\n#' Stimulate potential outcomes and adds a variable\n#' assumes SUTVA, defines the observed outcomes, deletes\n#' potential otucomes and returns the result\n#' @param n number of observations\n#' @param seed RNG seed\n#' @return data.table\n#' @export\n#' @import data.table\nsimulate_potential_outcomes<-function(n,\n                                      seed = sample.int(.Machine$integer.max, 1))\n{\n  set.seed(seed)\n  prob_y0<-.7\n  prob_y1<-.3\n  DATA<-data.table(\n    y0 =  1 * (runif(n) < prob_y0),\n    y1 = 1 * (runif(n) < prob_y1))\n    attr(DATA, \"seed\") <- seed\n  DATA\n}\n\nsimulate_simple_experiment <- function(n, prob_treatment,\n                                       seed = sample.int(.Machine$integer.max, 1))\n  {\n  set.seed(seed)\n  DATA<-simulate_potential_outcomes(n)\n  #assign some subjects to treatment\n  #names var inside the dataset := is defined to be\n  #no causality yet, just assigning\n  DATA[, prob := prob_treatment]\n  DATA[, d := 1 * (runif(n) < prob_treatment)]\n  DATA[, y:= 1 * d * y1 + (1-d) * y0]\n  DATA[, `:=`(y1 = NULL, y0 = NULL)]\n  attr(DATA, \"seed\")<-seed\n  DATA\n}\n\nsimulate_observational_study <- function(n,\n                                         seed = sample.int(.Machine$integer.max, 1))\n{\n  set.seed(seed)\n  DATA<-simulate_potential_outcomes(n)\n  #assign some subjects to treatment\n  #names var inside the dataset := is defined to be\n  #no causality yet, just assigning\n  DATA[, prob_d_equals_1 := plogis(-2 + 4 * ( y1 - y0))]\n  DATA[, d := 1 * (runif(n) < prob_d_equals_1)]\n  DATA[, y:= 1 * d * y1 + (1-d) * y0]\n  DATA[, `:=`(y1 = NULL, y0 = NULL,\n              prob_d_equals_1 = NULL)]\n  attr(DATA, \"seed\")<-seed\n  DATA\n}\n\n\n#' Title\n#'\n#' details\n#' @param DATA\n#' @return number\n#' @import data.table\n#' @export\n#'\n\ncalc_naive_difference_in_means <- function(DATA){\n  DATA[, mean(y[d==1]) - mean(y[d==0])]\n  ##logical test, is d equal to one, returns true or false... hence ==\n  ##serves to filter...section\n}\n",
    "created" : 1473696619231.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3360145285",
    "id" : "C6817EFB",
    "lastKnownWriteTime" : 1472591920,
    "path" : "~/causalA16/R/potential_outcomes.R",
    "project_path" : "R/potential_outcomes.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 8,
    "source_on_save" : false,
    "type" : "r_source"
}